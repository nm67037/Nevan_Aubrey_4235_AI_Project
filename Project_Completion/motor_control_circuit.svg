<svg viewBox="0 0 1600 1100" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles -->
  <defs>
    <style>
      .wire { stroke: #333; stroke-width: 2; fill: none; }
      .power-wire { stroke: #d32f2f; stroke-width: 2; fill: none; }
      .ground-wire { stroke: #1976d2; stroke-width: 2; fill: none; }
      .signal-wire { stroke: #388e3c; stroke-width: 2; fill: none; }
      .component { fill: #f5f5f5; stroke: #333; stroke-width: 2; }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .pin-label { font-family: Arial, sans-serif; font-size: 14px; fill: #666; }
      .title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #333; }
    </style>
  </defs>

  <!-- Title -->
  <text x="800" y="25" class="title" text-anchor="middle">Raspberry Pi Motor Control Circuit with IR Sensor</text>

  <!-- Power Supply (12V) -->
  <rect x="50" y="80" width="80" height="60" class="component"/>
  <text x="90" y="105" class="title" text-anchor="middle">12V PSU</text>
  <text x="60" y="125" class="pin-label">+12V</text>
  <text x="105" y="125" class="pin-label">GND</text>
  <circle cx="65" cy="130" r="3" fill="#d32f2f"/>
  <circle cx="115" cy="130" r="3" fill="#1976d2"/>

  <!-- Power Rails (vertical on left side) -->
  <rect x="180" y="60" width="20" height="800" fill="#ffebee" stroke="#d32f2f" stroke-width="2"/>
  <text x="190" y="50" class="label" text-anchor="middle">+12V</text>
  
  <rect x="210" y="60" width="20" height="800" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="220" y="50" class="label" text-anchor="middle">GND</text>

  <!-- Power connections to rails -->
  <line x1="65" y1="130" x2="65" y2="200" class="power-wire"/>
  <line x1="65" y1="200" x2="190" y2="200" class="power-wire"/>
  
  <line x1="115" y1="130" x2="115" y2="220" class="ground-wire"/>
  <line x1="115" y1="220" x2="220" y2="220" class="ground-wire"/>

  <!-- 4N25 Optocoupler (upper left area) -->
  <g id="optocoupler">
    <rect x="280" y="150" width="120" height="160" class="component"/>
    <text x="340" y="175" class="title" text-anchor="middle">4N25</text>
    <text x="340" y="190" class="title" text-anchor="middle">Opto</text>
    <text x="295" y="225" class="pin-label">1:A</text>
    <text x="295" y="250" class="pin-label">2:K</text>
    <text x="295" y="280" class="pin-label">4:E</text>
    <text x="295" y="300" class="pin-label">5:C</text>
    <circle cx="280" cy="220" r="3" fill="#333"/>
    <circle cx="280" cy="245" r="3" fill="#333"/>
    <circle cx="280" cy="275" r="3" fill="#333"/>
    <circle cx="280" cy="295" r="3" fill="#333"/>
  </g>

  <!-- 1k Resistor for Optocoupler (to the right of opto) -->
  <g id="resistor-1k">
    <rect x="420" y="210" width="60" height="20" rx="3" fill="#d4af37" stroke="#333" stroke-width="1"/>
    <text x="450" y="223" class="pin-label" text-anchor="middle">1kΩ</text>
    <circle cx="420" cy="220" r="3" fill="#333"/>
    <circle cx="480" cy="220" r="3" fill="#333"/>
  </g>

  <!-- Optocoupler Pin 1 (Anode) to 1k resistor -->
  <line x1="280" y1="220" x2="420" y2="220" class="signal-wire"/>

  <!-- 1k resistor to GPIO17 connection -->
  <line x1="480" y1="220" x2="550" y2="220" class="signal-wire"/>
  <line x1="550" y1="220" x2="550" y2="70" class="signal-wire"/>
  <line x1="550" y1="70" x2="1000" y2="70" class="signal-wire"/>
  <circle cx="1000" cy="70" r="4" fill="#388e3c" stroke="#333" stroke-width="2"/>
  <text x="920" y="65" class="pin-label">To Pi GPIO17</text>

  <!-- Optocoupler Cathode to GND -->
  <line x1="280" y1="245" x2="260" y2="245" class="ground-wire"/>
  <line x1="260" y1="245" x2="260" y2="320" class="ground-wire"/>
  <line x1="260" y1="320" x2="220" y2="320" class="ground-wire"/>

  <!-- Optocoupler Emitter to GND -->
  <line x1="280" y1="275" x2="240" y2="275" class="ground-wire"/>
  <line x1="240" y1="275" x2="240" y2="340" class="ground-wire"/>
  <line x1="240" y1="340" x2="220" y2="340" class="ground-wire"/>

  <!-- IRFZ34N MOSFET (center area, moved down) -->
  <g id="mosfet">
    <rect x="450" y="350" width="120" height="140" class="component"/>
    <text x="510" y="375" class="title" text-anchor="middle">IRFZ34N</text>
    <text x="510" y="390" class="title" text-anchor="middle">MOSFET</text>
    <text x="465" y="425" class="pin-label">G (1)</text>
    <text x="465" y="450" class="pin-label">D (2)</text>
    <text x="465" y="475" class="pin-label">S (3)</text>
    <circle cx="450" cy="420" r="3" fill="#333"/>
    <circle cx="450" cy="445" r="3" fill="#333"/>
    <circle cx="450" cy="470" r="3" fill="#333"/>
  </g>

  <!-- Optocoupler Collector to MOSFET Gate -->
  <line x1="280" y1="295" x2="250" y2="295" class="signal-wire"/>
  <line x1="250" y1="295" x2="250" y2="420" class="signal-wire"/>
  <line x1="250" y1="420" x2="450" y2="420" class="signal-wire"/>

  <!-- 10kΩ Pull-up Resistor (horizontal, to the left of MOSFET) -->
  <g id="resistor-10k">
    <rect x="310" y="410" width="60" height="20" rx="3" fill="#d4af37" stroke="#333" stroke-width="1"/>
    <text x="340" y="423" class="pin-label" text-anchor="middle">10kΩ</text>
    <circle cx="310" cy="420" r="3" fill="#333"/>
    <circle cx="370" cy="420" r="3" fill="#333"/>
  </g>

  <!-- MOSFET Gate to 10k resistor -->
  <line x1="450" y1="420" x2="370" y2="420" class="wire"/>

  <!-- 10k resistor to +12V -->
  <line x1="310" y1="420" x2="270" y2="420" class="power-wire"/>
  <line x1="270" y1="420" x2="270" y2="380" class="power-wire"/>
  <line x1="270" y1="380" x2="190" y2="380" class="power-wire"/>

  <!-- 2kΩ Pull-down Resistor (below MOSFET) -->
  <g id="resistor-2k">
    <rect x="310" y="510" width="60" height="20" rx="3" fill="#d4af37" stroke="#333" stroke-width="1"/>
    <text x="340" y="523" class="pin-label" text-anchor="middle">2kΩ</text>
    <circle cx="310" cy="520" r="3" fill="#333"/>
    <circle cx="370" cy="520" r="3" fill="#333"/>
  </g>

  <!-- MOSFET Gate to 2k resistor -->
  <line x1="450" y1="420" x2="410" y2="420" class="wire"/>
  <line x1="410" y1="420" x2="410" y2="520" class="wire"/>
  <line x1="410" y1="520" x2="370" y2="520" class="wire"/>

  <!-- 2k resistor to GND -->
  <line x1="310" y1="520" x2="280" y2="520" class="ground-wire"/>
  <line x1="280" y1="520" x2="280" y2="560" class="ground-wire"/>
  <line x1="280" y1="560" x2="220" y2="560" class="ground-wire"/>

  <!-- MOSFET Source to GND -->
  <line x1="450" y1="470" x2="430" y2="470" class="ground-wire"/>
  <line x1="430" y1="470" x2="430" y2="580" class="ground-wire"/>
  <line x1="430" y1="580" x2="220" y2="580" class="ground-wire"/>

  <!-- L293D H-Bridge (center-right area) -->
  <g id="l293d">
    <rect x="680" y="180" width="180" height="320" class="component"/>
    <text x="770" y="205" class="title" text-anchor="middle">L293D H-Bridge</text>
    
    <!-- Left side pins -->
    <text x="695" y="245" class="pin-label">1:EN1</text>
    <text x="695" y="270" class="pin-label">2:IN1</text>
    <text x="695" y="295" class="pin-label">3:OUT1</text>
    <text x="695" y="325" class="pin-label">4:GND</text>
    <text x="695" y="350" class="pin-label">5:GND</text>
    <text x="695" y="375" class="pin-label">6:OUT2</text>
    <text x="695" y="400" class="pin-label">7:IN2</text>
    <text x="695" y="425" class="pin-label">8:VCC2</text>
    
    <!-- Right side pins -->
    <text x="805" y="245" class="pin-label">16:VCC1</text>
    <text x="805" y="375" class="pin-label">9:EN2</text>
    <text x="805" y="400" class="pin-label">12:GND</text>
    <text x="805" y="425" class="pin-label">13:GND</text>
    
    <circle cx="680" cy="240" r="3" fill="#333"/>
    <circle cx="680" cy="265" r="3" fill="#333"/>
    <circle cx="680" cy="290" r="3" fill="#333"/>
    <circle cx="680" cy="320" r="3" fill="#333"/>
    <circle cx="680" cy="345" r="3" fill="#333"/>
    <circle cx="680" cy="370" r="3" fill="#333"/>
    <circle cx="680" cy="395" r="3" fill="#333"/>
    <circle cx="680" cy="420" r="3" fill="#333"/>
    
    <circle cx="860" cy="240" r="3" fill="#333"/>
    <circle cx="860" cy="370" r="3" fill="#333"/>
    <circle cx="860" cy="395" r="3" fill="#333"/>
    <circle cx="860" cy="420" r="3" fill="#333"/>
  </g>

  <!-- L293D Pin 16 (VCC1) to +12V (routing around optocoupler) -->
  <line x1="860" y1="240" x2="870" y2="240" class="power-wire"/>
  <line x1="870" y1="240" x2="870" y2="130" class="power-wire"/>
  <line x1="870" y1="130" x2="400" y2="130" class="power-wire"/>
  <line x1="400" y1="130" x2="400" y2="100" class="power-wire"/>
  <line x1="400" y1="100" x2="190" y2="100" class="power-wire"/>

  <!-- L293D Pin 8 (VCC2) to MOSFET Drain -->
  <line x1="680" y1="420" x2="600" y2="420" class="wire"/>
  <line x1="600" y1="420" x2="600" y2="445" class="wire"/>
  <line x1="600" y1="445" x2="450" y2="445" class="wire"/>

  <!-- L293D Pin 9 (EN2) to +12V (routing around optocoupler) -->
  <line x1="860" y1="370" x2="890" y2="370" class="power-wire"/>
  <line x1="890" y1="370" x2="890" y2="120" class="power-wire"/>
  <line x1="890" y1="120" x2="410" y2="120" class="power-wire"/>
  <line x1="410" y1="120" x2="410" y2="90" class="power-wire"/>
  <line x1="410" y1="90" x2="190" y2="90" class="power-wire"/>

  <!-- L293D Grounds (Pins 4, 5, 12, 13) -->
  <line x1="680" y1="320" x2="650" y2="320" class="ground-wire"/>
  <line x1="650" y1="320" x2="650" y2="600" class="ground-wire"/>
  <line x1="650" y1="600" x2="220" y2="600" class="ground-wire"/>
  
  <line x1="680" y1="345" x2="640" y2="345" class="ground-wire"/>
  <line x1="640" y1="345" x2="640" y2="620" class="ground-wire"/>
  <line x1="640" y1="620" x2="220" y2="620" class="ground-wire"/>
  
  <line x1="860" y1="395" x2="910" y2="395" class="ground-wire"/>
  <line x1="910" y1="395" x2="910" y2="640" class="ground-wire"/>
  <line x1="910" y1="640" x2="220" y2="640" class="ground-wire"/>
  
  <line x1="860" y1="420" x2="930" y2="420" class="ground-wire"/>
  <line x1="930" y1="420" x2="930" y2="660" class="ground-wire"/>
  <line x1="930" y1="660" x2="220" y2="660" class="ground-wire"/>

  <!-- Motor (below L293D) -->
  <g id="motor">
    <circle cx="760" cy="600" r="50" class="component"/>
    <text x="760" y="600" class="title" text-anchor="middle">12V</text>
    <text x="760" y="615" class="title" text-anchor="middle">Motor</text>
    <circle cx="730" cy="565" r="3" fill="#333"/>
    <circle cx="790" cy="565" r="3" fill="#333"/>
  </g>

  <!-- Motor connections to L293D OUT1 and OUT2 -->
  <line x1="680" y1="290" x2="620" y2="290" class="wire"/>
  <line x1="620" y1="290" x2="620" y2="540" class="wire"/>
  <line x1="620" y1="540" x2="730" y2="540" class="wire"/>
  <line x1="730" y1="540" x2="730" y2="565" class="wire"/>
  
  <line x1="680" y1="370" x2="610" y2="370" class="wire"/>
  <line x1="610" y1="370" x2="610" y2="555" class="wire"/>
  <line x1="610" y1="555" x2="790" y2="555" class="wire"/>
  <line x1="790" y1="555" x2="790" y2="565" class="wire"/>

  <!-- L293D Pin 1 (EN1) to GPIO18 - separated routing -->
  <line x1="680" y1="240" x2="630" y2="240" class="signal-wire"/>
  <line x1="630" y1="240" x2="630" y2="140" class="signal-wire"/>
  <line x1="630" y1="140" x2="1020" y2="140" class="signal-wire"/>
  <circle cx="1020" cy="140" r="4" fill="#388e3c" stroke="#333" stroke-width="2"/>
  <text x="940" y="135" class="pin-label">To Pi GPIO18 (PWM)</text>

  <!-- L293D Pin 2 (IN1) to GPIO27 - separated routing -->
  <line x1="680" y1="265" x2="660" y2="265" class="signal-wire"/>
  <line x1="660" y1="265" x2="660" y2="160" class="signal-wire"/>
  <line x1="660" y1="160" x2="1040" y2="160" class="signal-wire"/>
  <circle cx="1040" cy="160" r="4" fill="#388e3c" stroke="#333" stroke-width="2"/>
  <text x="970" y="155" class="pin-label">To Pi GPIO27</text>

  <!-- L293D Pin 7 (IN2) to GPIO22 -->
  <line x1="680" y1="395" x2="590" y2="395" class="signal-wire"/>
  <line x1="590" y1="395" x2="590" y2="700" class="signal-wire"/>
  <line x1="590" y1="700" x2="1060" y2="700" class="signal-wire"/>
  <circle cx="1060" cy="700" r="4" fill="#388e3c" stroke="#333" stroke-width="2"/>
  <text x="990" y="695" class="pin-label">To Pi GPIO22</text>

  <!-- Raspberry Pi (right side) -->
  <g id="raspberry-pi">
    <rect x="1100" y="200" width="220" height="400" class="component"/>
    <text x="1210" y="230" class="title" text-anchor="middle">Raspberry Pi</text>
    
    <text x="1120" y="275" class="pin-label">GPIO17</text>
    <text x="1120" y="315" class="pin-label">GPIO27</text>
    <text x="1120" y="355" class="pin-label">GPIO22</text>
    <text x="1120" y="395" class="pin-label">GPIO18 (PWM)</text>
    <text x="1120" y="435" class="pin-label">GPIO23</text>
    <text x="1120" y="495" class="pin-label">3.3V</text>
    <text x="1120" y="555" class="pin-label">GND</text>
    
    <circle cx="1100" cy="270" r="3" fill="#333"/>
    <circle cx="1100" cy="310" r="3" fill="#333"/>
    <circle cx="1100" cy="350" r="3" fill="#333"/>
    <circle cx="1100" cy="390" r="3" fill="#333"/>
    <circle cx="1100" cy="430" r="3" fill="#333"/>
    <circle cx="1100" cy="490" r="3" fill="#333"/>
    <circle cx="1100" cy="550" r="3" fill="#333"/>
  </g>

  <!-- GPIO17 to connection point -->
  <line x1="1100" y1="270" x2="1000" y2="270" class="signal-wire"/>
  <line x1="1000" y1="270" x2="1000" y2="70" class="signal-wire"/>

  <!-- GPIO27 to connection point -->
  <line x1="1100" y1="310" x2="1040" y2="310" class="signal-wire"/>
  <line x1="1040" y1="310" x2="1040" y2="160" class="signal-wire"/>

  <!-- GPIO22 to connection point -->
  <line x1="1100" y1="350" x2="1060" y2="350" class="signal-wire"/>
  <line x1="1060" y1="350" x2="1060" y2="700" class="signal-wire"/>

  <!-- GPIO18 (PWM) to connection point -->
  <line x1="1100" y1="390" x2="1020" y2="390" class="signal-wire"/>
  <line x1="1020" y1="390" x2="1020" y2="140" class="signal-wire"/>

  <!-- Pi GND to common ground -->
  <line x1="1100" y1="550" x2="980" y2="550" class="ground-wire"/>
  <line x1="980" y1="550" x2="980" y2="720" class="ground-wire"/>
  <line x1="980" y1="720" x2="220" y2="720" class="ground-wire"/>

  <!-- IR Sensor (lower right) -->
  <g id="ir-sensor">
    <rect x="1350" y="780" width="120" height="100" class="component"/>
    <text x="1410" y="810" class="title" text-anchor="middle">IR Sensor</text>
    <text x="1365" y="840" class="pin-label">VCC</text>
    <text x="1365" y="865" class="pin-label">GND</text>
    <text x="1365" y="890" class="pin-label">OUT</text>
    <circle cx="1350" cy="835" r="3" fill="#333"/>
    <circle cx="1350" cy="860" r="3" fill="#333"/>
    <circle cx="1350" cy="885" r="3" fill="#333"/>
  </g>

  <!-- IR Sensor VCC to Pi 3.3V (routing around Pi) -->
  <line x1="1350" y1="835" x2="1320" y2="835" class="power-wire"/>
  <line x1="1320" y1="835" x2="1320" y2="490" class="power-wire"/>
  <line x1="1320" y1="490" x2="1100" y2="490" class="power-wire"/>

  <!-- IR Sensor GND to Pi GND (routing around Pi) -->
  <line x1="1350" y1="860" x2="1330" y2="860" class="ground-wire"/>
  <line x1="1330" y1="860" x2="1330" y2="680" class="ground-wire"/>
  <line x1="1330" y1="680" x2="1080" y2="680" class="ground-wire"/>
  <line x1="1080" y1="680" x2="1080" y2="550" class="ground-wire"/>
  <line x1="1080" y1="550" x2="1100" y2="550" class="ground-wire"/>

  <!-- IR Sensor OUT to GPIO23 (routing around Pi) -->
  <line x1="1350" y1="885" x2="1340" y2="885" class="signal-wire"/>
  <line x1="1340" y1="885" x2="1340" y2="430" class="signal-wire"/>
  <line x1="1340" y1="430" x2="1100" y2="430" class="signal-wire"/>

  <!-- Legend -->
  <g id="legend">
    <text x="50" y="950" class="title">Legend:</text>
    <line x1="50" y1="965" x2="100" y2="965" class="power-wire"/>
    <text x="110" y="970" class="label">Power (+12V/3.3V)</text>
    
    <line x1="50" y1="985" x2="100" y2="985" class="ground-wire"/>
    <text x="110" y="990" class="label">Ground</text>
    
    <line x1="50" y1="1005" x2="100" y2="1005" class="signal-wire"/>
    <text x="110" y="1010" class="label">Signal/Control</text>
    
    <line x1="50" y1="1025" x2="100" y2="1025" class="wire"/>
    <text x="110" y="1030" class="label">Motor Power Path</text>
  </g>

</svg>